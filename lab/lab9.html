<html lang="en">
<head>
  <title>LAB 9</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  <link href='https://fonts.googleapis.com/css?family=Oswald:700' rel='stylesheet' type='text/css'>
</head>
<body>
	
<!-- Navigation -->
	<nav class="navbar navbar-inverse navbar-static-top" role="navigation">
	  <div class="container">
		<div class="navbar-header">
		  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
		</div>

		<!-- Collect the nav links, forms, and other content for toggling -->
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
		  <ul class="nav navbar-nav">
			  <li class="nav-item"><a class="nav-link" href="https://leewx1020.github.io">MainPage</a></li>
        <li class="nav-item"><a class="nav-link" href="https://leewx1020.github.io/lab/lab1.html">LAB 1</a></li>
			  <li class="nav-item"><a class="nav-link" href="https://leewx1020.github.io/lab/lab2.html">LAB 2</a></li>
			  <li class="nav-item"><a class="nav-link" href="https://leewx1020.github.io/lab/lab3.html">LAB 3</a></li>
			  <li class="nav-item"><a class="nav-link" href="https://leewx1020.github.io/lab/lab4.html">LAB 4</a></li> 
			  <li class="nav-item"><a class="nav-link" href="https://leewx1020.github.io/lab/lab5.html">LAB 5</a></li>
			  <li class="nav-item"><a class="nav-link" href="https://leewx1020.github.io/lab/lab6.html">LAB 6</a></li>
        <li class="nav-item"><a class="nav-link" href="https://leewx1020.github.io/lab/lab8.html">LAB 7</a></li>
        <li class="nav-item"><a class="nav-link" href="https://leewx1020.github.io/lab/lab8.html">LAB 8</a></li>
        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#about">LAB 9</a></li>
			  <li class="nav-item"><a class="nav-link" href="https://leewx1020.github.io/lab/lab10.html">LAB 10</a></li>
			  <li class="nav-item"><a class="nav-link" href="https://leewx1020.github.io/lab/lab11.html">LAB 11</a></li>
			  <li class="nav-item"><a class="nav-link" href="https://leewx1020.github.io/lab/lab12.html">LAB 12</a></li>
			 
			 	  
		  </ul>
		</div>
	  </div>
	</nav>
	
	

	      
	<div id="main_content_wrap" class="outer">
	<section id="main_content" class="inner">
	<article class="mb-4">
        <div class="container px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
        <div class="col-md-9 col-lg-9 col-xl-9">

		
	<h2>Lab 9 - Mapping</h2>
	
	<h3>Control</h3>
		<p>In this lab, we are required to do the PID controlling for the IMU to get the surrounding map by turning the robot on-axis. 
		I choose to achieve this using Angular speed control. The data collection is easier than doing the orientation control.
		We can just get the angular speed by using the yaw value provided by the IMU. 
		We just care about the rotation that is parallel to the floor, so yaw itself is good enough in this lab. 
		In this case, the error in the PID calculation should be the yaw value minus the setpoint. 
		I set it to be 15 to try to lower the rotational speed and controller will make sure our robot can rotate around the speed of 15 deg/ms
		Then I apply the PID function to get the output and I only use P control here. 
		The last step is to set the PWM value, which equals to the PID output value. 
		My code is attached below.</p>
	<img class="img-responsive" src="https://leewx1020.github.io/lab_pic/lab9/control1.jpeg" alt=""width="400" height="400"/>
	<img class="img-responsive" src="https://leewx1020.github.io/lab_pic/lab9/control2.jpeg" alt=""width="300" height="300"/>
		<p>The video below shows my robot can successfully rotate at a relatively slow angular speed with just a small drift. 
		It is driving in a straight circle, not on-axis. At very beginning, when I run my code, the left side of the wheel seems to stop.
		I try both stick the tape on the wheels and do the PWM calibration, but both them are not working very well. 
		The final version still contains the drift, but I don't think it will cause too much error, which is acceptable. </p>
	<iframe width="560" height="315"  
  	src="https://www.youtube.com/embed/dbAs3rrZVz8"  
  	frameborder="0" allowfullscreen></iframe>
		
		
		
	<h3>Read out Distances</h3>
		
		
		
	<h3>Merge and Plot your readings</h3>
		
		
	<h3>Convert to Line-Based Map</h3>
